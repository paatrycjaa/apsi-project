{% extends "base.html" %}
{% block title %} Add threads {% endblock %}

{% block content %}
<h1>Dodaj wątek</h1>

<div ng-controller='threadAdditionController' ng-init="init()">
{% verbatim %}

<form class="needs-validation" name="threadForm" novalidate>
    <div class="form-group">
        <label for="thema">Temat</label>
        <input name="thema" class="form-control" type="text" ng-model="threadModel.thema" required>
        <div class="invalid-feedback">
            To pole jest wymagane!
        </div>
    </div>

    <div class="form-group">
        <label for="content">Treść</label>
        <input name="content" class="form-control" type="text" ng-model="threadModel.content" rows="4" required>
        <div class="invalid-feedback">
            To pole jest wymagane!
        </div>
    </div>

    <div class="form-group">
        <label for="attachement">Załącznik</label>
        <input type="file" class="form-control-file" ng-model="threadModel.attachement" id="attachement">
    </div>

    <div class="form-group" style="display: inline-block">
        <button class="btn btn-primary" type="submit" ng-click="submit()">Dodaj</button>
    </div>

    <div class="row" ng-show="reponse_received" style="float: right; margin-right: 20px">
        <p class="text-success" ng-if="status" style="font-size: x-large;">Wątek dodany. Za chwilę zostaniesz przekierowany na stronę z wątkami</p>
        <p class="text-danger" ng-if="!status" style="font-size: x-large;">Wystąpił błąd podczas dodawania wątku</p>   
    </div>   
</form>
{% endverbatim %}
</div>

{% endblock %}