{% extends "base.html" %}
{% block title %} Add innovation ideas {% endblock %}

{% block content %}
<h1>Dodaj opinię</h1>

<script>
    var redirect_url = "{% url 'ideas' %}"
</script>

<div ng-controller="opinionAdditionController" ng-init="init()">

{% verbatim %}

<form class="needs-validation" name = "opinionForm" novalidate>

    <div class="form-group">
        <label for="description">Ocena opisowa</label>          
        <textarea name="description" class="form-control" type="text" ng-model="opinion.description" rows="4" required></textarea>    
        <div class="invalid-feedback">
            To pole jest wymagane!
        </div>
    </div>


    <div class="form-group">
        Ocena: <label><input type="radio" ng-model="opinion.rate" value="1" />1</label>
        <label><input type="radio" ng-model="opinion.rate" value="2" />2</label>
        <label><input type="radio" ng-model="opinion.rate" value="3" />3</label>
        <label><input type="radio" ng-model="opinion.rate" value="4" />4</label>
        <label><input type="radio" ng-model="opinion.rate" value="5" />5</label>
        <label><input type="radio" ng-model="opinion.rate" value="6" />6</label>
        <label><input type="radio" ng-model="opinion.rate" value="7" />7</label>
        <label><input type="radio" ng-model="opinion.rate" value="8" />8</label>
        <label><input type="radio" ng-model="opinion.rate" value="9" />9</label>
        <label><input type="radio" ng-model="opinion.rate" value="10" />10</label>
        <div class="invalid-feedback">
            To pole jest wymagane!
        </div>
    </div>


    <div class="form-group" style="display: inline-block">
        <button class="btn btn-primary" type="submit" ng-click="submit()">Dodaj</button>
    </div>

    <div class="row" ng-show="reponse_received" style="float: right; margin-right: 20px">
        <p class="text-success" ng-if="status" style="font-size: x-large;">Opinia dodana. Za chwilę zostaniesz przekierowany na stronę z pomysłami</p>
        <p class="text-danger" ng-if="!status" style="font-size: x-large;">Wystąpił błąd podczas dodawania opinii</p>   
    </div>   
</form>

{% endverbatim %}

</div>

{% endblock %}